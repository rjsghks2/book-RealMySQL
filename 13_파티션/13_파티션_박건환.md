# 파티션
## 13.1 개요

Q. 파티션이 필요한 대표적인 예는?
> 데이터의 특성상 주기적인 삭제가 필요한 경우, 테이블이 너무 커서 인덱스의 크기가 물리적은 메모리의 크기보다 큰 경우

Q. 워킹 셋(Working Set) 이란?
> 테이블 데이터에서 활발하게 사용되는 부분

### 13.1.2 MySQL 파티션의 내부 처리

Q. SQL이 수행되기 위해 파티션 테이블을 검색 할 때 성능에 크게 영향을 미치는조건은?
1) WHERE 절의 조건으로 ()을 선택할 수 있는가?
2) WHERE 절의 조건이 ()를 효율적으로 사용할 수 있는가?
> 검색해야할 파티션, 인덱스

Q. 여러 파티션에 대해 인덱스 스캔을 수행하면, 별도의 정렬 작업 없이 정렬된 결과를 바로 반환한다. (O/X)
> X. 별도의 정렬 작업은 없으나, 결과를 바로 반환하는것이 아니라 내부적으로 큐 처리 작업이 수행된다.

Q. 파티션 프루닝이란?
> 최적화 단계에서 필요한 파티션만 골라내고 불 필요한것들은 실행계획에서 배제하는 것

## 13.2 주의사항

* 종류에 관계없이 테이블에 유니크 인덱스(프라이머리 키 포함)가 있으면 파티션키는 모든 유니크인덱스의 일부 또는 모든 컬럼을 추가해야 한다.

### 13.2.2 파티션과 Open_file_limit 시스템 변수 설정
Q. 파티션 테이블이 많을 때 Open_file_limit을 적절하게 설정해줘야 하는 이유는?
> MySQL 에서는 일반적으로 테이블을 파일단위로 관리하는데, 파티션 테이블의 경우 파티션 프루닝이 수행되더라도 일단 동시에 모든 데이터파일을 오픈해야 하기 때문에 성능 관리를 위해 적절하게 설정해줘야 한다.

## 13.3 MySQL 파티션의 종류
Q. 파티션의 종류 4가지와 용도를 간단히 설명하시오.
> 레인지 파티션: 가장 일반적인 방법으로, 파티션키의 연속된 범위로 파티션을 정의하는 방법
> 리스트 파티션 : 파티션 키 값을 하나하나 리스트로 나열해줘야 하는 파티션 정의 방법 , 리스트, 해시, 키 파티션
> 해시 파티션 : MySQL에서 정의한 해시 함수에 의해 레코드가 저장될 파티션을 결정하는 방법
> 키 파티션 : 해시 파티션과 유사하나, 해시 파티션은 해시 값 계산 방법을 사용자가 명시하는 반면에, 키 파티션은 해시 값의 계산도 MySQL 서버가 수행하게 하는 방법이다. (파티션 키 값을 설정해줌)
